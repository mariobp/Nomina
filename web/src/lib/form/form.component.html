<ex-card [icon]="icon" [title]="title">
    <form class="form-horizontal" novalidate (submit)="save()" [formGroup]="form">
        <div class="row">
            <div *ngFor="let column of columns;let last = last;" class="col-lg-{{12/columns.length}}">
                <div class="form-horizontal">
                    <div *ngFor="let input of renderinputs">
                        <div *ngIf="isRender(column, input.column, input.noitem)" class="row">
                            <label class="col-lg-3 label-on-left" for="id_{{input.name}}">{{input.title}}:</label>
                            <div class="col-lg-9">
                                <div class="form-group label-floating is-empty" [class.has-error]="!!input.error" [class.has-success]="!input.error">
                                    <label class="control-label"></label>
                                    <input *ngIf="!input.isSelect" [disabled]="input.disabled" class="form-control {{input.class}}" [type]="input.type" [formControlName]="input.name" />
                                    <select *ngIf="input.isSelect" class="selectpicker {{input.class}}" [disabled]="input.disabled" [formControlName]="input.name" data-style="select-with-transition" [multiple]="input.multiple" [title]="input.title" data-size="7" id="id_{{input.name}}">
                                        <option selected disabled value="-1">{{input.title}}</option>
                                        <option *ngFor="let option of input.options" [value]="option.value">{{option.title}}</option>
                                    </select>
                                    <span *ngIf="!!input.error" class="help-block">{{input.error}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {{onLast(last)}}
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6"></div>
            <div class="col-lg-6 text-right">
                <button *ngIf="!item" class="btn btn-primary" (click)="save(true)" type="button" [disabled]="!isValid()">Guardar y Crear Otro</button>
                <input *ngIf="!item" class="btn btn-primary" [disabled]="!isValid()" type="submit" value="Guardar" />
                <button *ngIf="!!item && deleteable" class="btn btn-warning" (click)="delete()" type="button">Eliminar</button>
                <input *ngIf="!!item" class="btn btn-primary" type="submit" value="Guardar Cambios" [disabled]="!isValid()" />
            </div>
        </div>
    </form>
    <div class="cargando" *ngIf="ready">
        <div class="loader">
            <svg class="circular" viewBox="25 25 50 50">
                <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>
            </svg>
        </div>
    </div>
    <pre> value: {{form.value | json }}</pre>
</ex-card>
